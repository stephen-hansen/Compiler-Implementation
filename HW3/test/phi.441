class FOO [
   fields a:int, b:int, c:int, d:int
   method m1(x:int, y:int, z:int) returning int with locals p:int, q:int:
      while x: {
         p = (x + y)
         if &this.a: {
            ifonly &this.c: {
               p = (p - 1)
            }
            x = (x + 2)
         } else {
            y = (y + 2)
            ifonly &this.b: {
               q = (z - 1)
            }
         }
         ifonly &this.d: {
            while y: {
               y = (y - 1)
            }
         }
         x = (x - 1)
      }
      z = (z + 1)
      return z
]

main with:
   _ = ^@FOO.m1(3, 2, 1)

